syntax = "proto3";

package serviceapis.website.v1;

message TextComponent {
  optional string json = 1;
  optional string html = 2;
}

message ImageComponent {
  string url = 1;
}

message WebsiteComponent {
  string id = 1;
  oneof component_content {
    TextComponent text_component = 2;
    ImageComponent image_component = 3;
  }
}

message WebsiteSection {
  string id = 1;
  repeated WebsiteComponent components = 2;
}

message WebsitePage {
  string id = 1;
  optional string title = 2;
  optional string subtitle = 3;
  repeated WebsiteSection sections = 4;
}

message Website {
  string id = 1;
  string handle = 2;
  optional string name = 3;
  optional string description = 4;
  repeated WebsitePage pages = 5;
}


message WebsiteByHandleRequest {
  string handle = 1;
  optional string locale = 2;
}

message WebsiteByHandleResponse {
  Website website = 1;
}

service WebsiteService {
  rpc WebsiteByHandle(WebsiteByHandleRequest) returns (WebsiteByHandleResponse) {}
}
